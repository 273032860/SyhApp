/**
 * @license MIT
 *
 * Copyright (c) 2025 Aiden Bai
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */

// src/plugins/vite.ts
var reactGrab = (options = {}) => {
  const {
    adapter,
    enabled = true
  } = options;
  const dataAttrs = [];
  if (enabled !== void 0) {
    dataAttrs.push(`data-enabled="${enabled}"`);
  }
  if (adapter !== void 0) {
    dataAttrs.push(`data-adapter="${adapter}"`);
  }
  const scriptTag = `<script
      src="//unpkg.com/react-grab/dist/index.global.js"
      crossorigin="anonymous"
      ${dataAttrs.join("\n      ")}
    ><\/script>`;
  return {
    apply: "serve",
    name: "vite-plugin-react-grab",
    transformIndexHtml: {
      handler(html) {
        return html.replace(
          "<head>",
          `<head>
    ${scriptTag}`
        );
      },
      order: "pre"
    }
  };
};

export { reactGrab };
